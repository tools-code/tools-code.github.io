<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>JSONè§£æå™¨åœ¨çº¿ - å…è´¹JSONæ ¼å¼åŒ–ä¸éªŒè¯å·¥å…·</title>
    <meta name="description" content="æ— éœ€å®‰è£…ï¼Œåœ¨çº¿JSONæ ¼å¼åŒ–ã€éªŒè¯ã€è§£æå·¥å…·ï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€é”™è¯¯æç¤ºã€å¤åˆ¶ã€æ¸…ç©ºç­‰åŠŸèƒ½ã€‚">
    <meta name="keywords" content="JSONè§£æå™¨,JSONæ ¼å¼åŒ–,JSONéªŒè¯,åœ¨çº¿JSONå·¥å…·">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="./css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/jsoneditor@9.9.2/dist/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/jsoneditor@9.9.2/dist/jsoneditor.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3530207113372131"
        crossorigin="anonymous"></script>
</head>

<body>
    <!-- é¡¶éƒ¨èœå•æ  -->
    <div class="topbar">
        <a href="index.html" class="active">é¦–é¡µ</a>
        <a href="docs.html">æ–‡ç« é¡µ</a>
    </div>

    <div class="shell">
        <h1 class="page-title">JSONè§£æå™¨åœ¨çº¿</h1>
        <div class="subtitle">å…è´¹ã€é«˜æ•ˆçš„JSONæ ¼å¼åŒ–ä¸éªŒè¯å·¥å…·</div>
        
        <div class="nav">
            <div class="brand">
                <span class="dot"></span>
                <span>JSON è§£æå™¨</span>
            </div>
            <div class="controls">
                <button class="btn secondary" onclick="loadSample()">ç¤ºä¾‹</button>
                <button class="btn secondary" onclick="formatJSON()">æ ¼å¼åŒ–</button>
                <button class="btn secondary" onclick="minifyJSON()">å‹ç¼©</button>
                <button class="btn secondary" onclick="validateJSON()">éªŒè¯</button>
                <button class="btn secondary" onclick="clearText()">æ¸…ç©º</button>
                <button class="btn" onclick="copyJSON()">å¤åˆ¶</button>
            </div>
        </div>

        <div id="alert" class="alert"></div>

        <div class="card json-editor-card">
            <div class="editor-header">
                <div class="editor-tabs">
                    <span class="tab active" onclick="switchMode('tree')">æ ‘è§†å›¾</span>
                    <span class="tab" onclick="switchMode('code')">ä»£ç è§†å›¾</span>
                    <span class="tab" onclick="switchMode('text')">æ–‡æœ¬è§†å›¾</span>
                    <span class="tab" onclick="switchMode('preview')">é¢„è§ˆ</span>
                </div>
                <div class="editor-stats" id="jsonStats">å­—ç¬¦æ•°: 0 | è¡Œæ•°: 0</div>
            </div>
            
            <div id="jsonEditor" style="width: 100%; height: 500px;"></div>
        </div>

        <div class="features-container">
            <div class="feature-card">
                <div class="feature-icon">âœ¨</div>
                <div class="feature-title">è¯­æ³•é«˜äº®</div>
                <div class="feature-desc">æ™ºèƒ½è¯†åˆ«JSONè¯­æ³•ï¼Œæä¾›æ¸…æ™°çš„ä»£ç é«˜äº®æ˜¾ç¤ºï¼Œæå‡é˜…è¯»ä½“éªŒ</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ“</div>
                <div class="feature-title">æ ¼å¼åŒ–ä¸å‹ç¼©</div>
                <div class="feature-desc">ä¸€é”®æ ¼å¼åŒ–JSONï¼Œä½¿å…¶æ˜“äºé˜…è¯»ï¼›æˆ–å‹ç¼©JSONï¼Œå‡å°‘æ•°æ®ä½“ç§¯</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">âœ…</div>
                <div class="feature-title">å®æ—¶éªŒè¯</div>
                <div class="feature-desc">å®æ—¶æ£€æµ‹JSONè¯­æ³•é”™è¯¯ï¼Œæä¾›å‡†ç¡®çš„é”™è¯¯æç¤ºå’Œä½ç½®ä¿¡æ¯</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ”„</div>
                <div class="feature-title">è§†å›¾åˆ‡æ¢</div>
                <div class="feature-desc">æ”¯æŒç¼–è¾‘å™¨å’ŒæŸ¥çœ‹å™¨ä¸¤ç§æ¨¡å¼ï¼Œæ»¡è¶³ä¸åŒçš„ä½¿ç”¨éœ€æ±‚</div>
            </div>
        </div>

        <div class="remark">
            <h3>ä»€ä¹ˆæ˜¯JSONï¼Ÿ</h3>
            <p>
                <strong>JSONï¼ˆJavaScript Object Notationï¼‰</strong> æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œæ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆã€‚å®ƒåŸºäº JavaScript ç¼–ç¨‹è¯­è¨€çš„ä¸€ä¸ªå­é›†ï¼Œä½†é‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºè¯­è¨€çš„æ–‡æœ¬æ ¼å¼ã€‚
            </p>

            <h3>ä¸ºä»€ä¹ˆä½¿ç”¨JSONï¼Ÿ</h3>
            <p>
                JSONå·²æˆä¸ºWebåº”ç”¨ç¨‹åºä¸­æœ€å¸¸ç”¨çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œè¢«å¹¿æ³›åº”ç”¨äºAPIäº¤äº’ã€é…ç½®æ–‡ä»¶ã€æ•°æ®å­˜å‚¨ç­‰åœºæ™¯ã€‚å®ƒæ¯”XMLæ›´ç®€æ´ï¼Œè§£æé€Ÿåº¦æ›´å¿«ï¼Œå¹¶ä¸”è¢«å‡ ä¹æ‰€æœ‰ä¸»æµç¼–ç¨‹è¯­è¨€æ”¯æŒã€‚
            </p>
        </div>

        <div class="wise_saying">
            <b>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚â€”â€”ã€Šè®ºè¯­Â·å«çµå…¬ã€‹</b>
        </div>

        <div class="footer">
            <!-- å‹é“¾ç›´æ¥ç¡¬ç¼–ç åœ¨è¿™é‡Œ -->
            <div class="friend-links">
                <h3>å‹æƒ…é“¾æ¥</h3>
                <div class="links-container">
                    <a href="./website/sitemap.xml" target="_blank" rel="noopener">ç«™ç‚¹åœ°å›¾</a>
                    <a href="https://m3u8play502.github.io" target="_blank" rel="noopener">M3U8åœ¨çº¿æ’­æ”¾</a>
                    <a href="https://www.csdn.net/" target="_blank" rel="noopener">CSDN</a>
                    <a href="https://www.cnblogs.com/" target="_blank" rel="noopener">åšå®¢å›­</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–ç¤ºä¾‹JSONæ•°æ®
        const initialSample = {
            "name": "JSONè§£æå™¨",
            "version": "1.0.0",
            "description": "åœ¨çº¿JSONæ ¼å¼åŒ–ä¸éªŒè¯å·¥å…·",
            "features": [
                "è¯­æ³•é«˜äº®",
                "é”™è¯¯æç¤º",
                "JSONæ ¼å¼åŒ–",
                "JSONå‹ç¼©",
                "ä¸€é”®å¤åˆ¶"
            ],
            "author": {
                "name": "å¼€å‘è€…",
                "email": "example@example.com"
            },
            "isActive": true,
            "count": 0
        };

        // é¡µé¢å…ƒç´ 
        const alert = document.getElementById('alert');
        const jsonStats = document.getElementById('jsonStats');
        let jsonEditor = null;

        // æ˜¾ç¤ºæç¤ºä¿¡æ¯
        function showAlert(text, isError = false) {
            alert.textContent = text;
            alert.style.display = text ? 'block' : 'none';
            alert.style.color = isError ? '#ef4444' : '#0f766e';
            
            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            alert.style.animation = 'none';
            alert.offsetHeight; // è§¦å‘é‡æ’
            alert.style.animation = isError ? 'shake 0.5s' : 'fadeIn 0.5s';
        }

        // åˆå§‹åŒ–JSONç¼–è¾‘å™¨
        function initJsonEditor() {
            const container = document.getElementById('jsonEditor');
            const options = {
                mode: 'tree',
                modes: ['tree', 'code', 'text', 'preview'],
                search: true,
                history: true,
                mainMenuBar: false,
                navigationBar: false,
                statusBar: false,
                onValidate: function (json) {
                    try {
                        JSON.parse(JSON.stringify(json));
                        return { valid: true };
                    } catch (error) {
                        return { valid: false, errors: [error] };
                    }
                },
                onError: function (error) {
                    showAlert(`ç¼–è¾‘å™¨é”™è¯¯: ${error}`, true);
                }
            };

            // åˆ›å»ºç¼–è¾‘å™¨
            jsonEditor = new JSONEditor(container, options);
            
            // è®¾ç½®åˆå§‹æ•°æ®
            jsonEditor.set(initialSample);
            
            // ç›‘å¬å˜åŒ–æ›´æ–°ç»Ÿè®¡
            jsonEditor.on('change', updateStats);
            
            // åˆå§‹æ›´æ–°ç»Ÿè®¡
            updateStats();
        }

        // åˆ‡æ¢ç¼–è¾‘æ¨¡å¼
        function switchMode(mode) {
            try {
                const tabs = document.querySelectorAll('.tab');
                tabs.forEach(tab => tab.classList.remove('active'));
                
                const tabIndex = {
                    'tree': 0,
                    'code': 1,
                    'text': 2,
                    'preview': 3
                }[mode];
                
                if (tabIndex !== undefined) {
                    tabs[tabIndex].classList.add('active');
                    jsonEditor.setMode(mode);
                    showAlert(`å·²åˆ‡æ¢åˆ°${{
                        'tree': 'æ ‘è§†å›¾',
                        'code': 'ä»£ç è§†å›¾',
                        'text': 'æ–‡æœ¬è§†å›¾',
                        'preview': 'é¢„è§ˆæ¨¡å¼'
                    }[mode]}`);
                }
            } catch (error) {
                showAlert(`åˆ‡æ¢æ¨¡å¼å¤±è´¥: ${error.message}`, true);
            }
        }

        // åŠ è½½ç¤ºä¾‹æ•°æ®
        function loadSample() {
            try {
                jsonEditor.set(initialSample);
                updateStats();
                showAlert('å·²åŠ è½½ç¤ºä¾‹JSONæ•°æ®');
            } catch (error) {
                showAlert(`åŠ è½½ç¤ºä¾‹å¤±è´¥: ${error.message}`, true);
            }
        }

        // æ ¼å¼åŒ–JSON
        function formatJSON() {
            try {
                const currentMode = jsonEditor.getMode();
                const json = jsonEditor.get();
                
                // è½¬æ¢ä¸ºæ ¼å¼åŒ–çš„JSONå­—ç¬¦ä¸²
                const formattedJson = JSON.stringify(json, null, 2);
                
                // è®¾ç½®å›ç¼–è¾‘å™¨
                jsonEditor.setText(formattedJson);
                
                // å¦‚æœä¸æ˜¯ä»£ç æˆ–æ–‡æœ¬æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°ä»£ç æ¨¡å¼æŸ¥çœ‹æ•ˆæœ
                if (currentMode !== 'code' && currentMode !== 'text') {
                    switchMode('code');
                }
                
                showAlert('JSONæ ¼å¼åŒ–æˆåŠŸ');
            } catch (error) {
                showAlert(`æ ¼å¼åŒ–å¤±è´¥: ${error.message}`, true);
            }
        }

        // å‹ç¼©JSON
        function minifyJSON() {
            try {
                const json = jsonEditor.get();
                const minifiedJson = JSON.stringify(json);
                jsonEditor.setText(minifiedJson);
                showAlert('JSONå‹ç¼©æˆåŠŸ');
            } catch (error) {
                showAlert(`å‹ç¼©å¤±è´¥: ${error.message}`, true);
            }
        }

        // éªŒè¯JSON
        function validateJSON() {
            try {
                const json = jsonEditor.get();
                // ä½¿ç”¨JSON.stringifyå’ŒJSON.parseæ¥éªŒè¯
                const jsonStr = JSON.stringify(json);
                JSON.parse(jsonStr);
                showAlert('JSONæ ¼å¼æœ‰æ•ˆ');
            } catch (error) {
                showAlert(`JSONæ ¼å¼æ— æ•ˆ: ${error.message}`, true);
            }
        }

        // æ¸…ç©ºæ–‡æœ¬
        function clearText() {
            try {
                jsonEditor.set({});
                updateStats();
                showAlert('');
            } catch (error) {
                showAlert(`æ¸…ç©ºå¤±è´¥: ${error.message}`, true);
            }
        }

        // å¤åˆ¶JSON
        function copyJSON() {
            try {
                const json = jsonEditor.get();
                const jsonStr = JSON.stringify(json, null, 2);
                
                navigator.clipboard.writeText(jsonStr).then(function() {
                    showAlert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                }).catch(function(err) {
                    showAlert(`å¤åˆ¶å¤±è´¥: ${err.message}`, true);
                });
            } catch (error) {
                showAlert(`å¤åˆ¶å¤±è´¥: ${error.message}`, true);
            }
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            try {
                const json = jsonEditor.get();
                const jsonStr = JSON.stringify(json);
                const charCount = jsonStr.length;
                const lineCount = jsonStr.split('\n').length;
                jsonStats.textContent = `å­—ç¬¦æ•°: ${charCount} | è¡Œæ•°: ${lineCount}`;
            } catch (error) {
                // å‡ºé”™æ—¶ä¸æ›´æ–°ç»Ÿè®¡
            }
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', function () {
            initJsonEditor();
        });
    </script>
</body>

</html>