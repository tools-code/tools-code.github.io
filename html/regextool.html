<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正则表达式测试工具 - 免费在线正则表达式验证与测试</title>
    <meta name="description" content="免费在线正则表达式测试工具，支持实时匹配、语法高亮、常用正则表达式模板、分组捕获等功能。">
    <meta name="keywords" content="正则表达式,正则表达式测试,正则表达式验证,在线正则工具,regex测试,正则表达式生成">

    <!-- 引入外部资源 -->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>

    <!-- 引入自定义样式 -->
    <link rel="stylesheet" href="/css/styles.css">

    <!-- 正则表达式页面专用样式 -->
    <style>
        .regex-container {
            max-width: 1200px;
            margin: 0 auto 60px;
        }

        .regex-card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            margin-top: 50px;
            margin-bottom: 30px;
        }

        .input-section {
            margin-bottom: 24px;
        }

        .input-section h3 {
            font-size: 16px;
            margin-bottom: 12px;
            color: var(--text);
            font-weight: 600;
        }

        .input-group {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .input-group input,
        .input-group textarea {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s ease;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        .input-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .input-group input:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: var(--brand);
            box-shadow: 0 0 0 3px rgba(0, 184, 148, 0.1);
        }

        .input-group button {
            padding: 12px 24px;
            font-size: 15px;
        }

        .options-section {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 20px;
            align-items: center;
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .option-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
        }

        .option-item label {
            cursor: pointer;
            font-size: 14px;
            color: var(--text);
        }

        .result-section {
            background: #f8fafc;
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
        }

        .result-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text);
        }

        .result-stats {
            margin-bottom: 16px;
            font-size: 14px;
            color: var(--muted);
        }

        .match-result {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
        }

        .match-highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
            color: #856404;
        }

        .match-details {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid var(--border);
            font-size: 12px;
            color: var(--muted);
        }

        .group-item {
            margin-left: 16px;
            margin-top: 4px;
        }

        .templates-section {
            margin-top: 40px;
        }

        .templates-section h3 {
            font-size: 18px;
            margin-bottom: 16px;
            color: var(--text);
        }

        .template-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
        }

        .template-card {
            background: white;
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .template-card:hover {
            border-color: var(--brand);
            box-shadow: 0 5px 15px rgba(0, 184, 148, 0.1);
            transform: translateY(-2px);
        }

        .template-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text);
        }

        .template-regex {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            background: #f8fafc;
            padding: 8px 12px;
            border-radius: 6px;
            margin-bottom: 8px;
            word-break: break-all;
            color: #6366f1;
        }

        .template-desc {
            font-size: 13px;
            color: var(--muted);
        }

        .syntax-section {
            margin-top: 40px;
        }

        .syntax-section h3 {
            font-size: 18px;
            margin-bottom: 16px;
            color: var(--text);
        }

        .syntax-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .syntax-table th,
        .syntax-table td {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border);
            text-align: left;
        }

        .syntax-table th {
            background: #f8fafc;
            font-weight: 600;
            color: var(--text);
            font-size: 14px;
        }

        .syntax-table td {
            font-size: 14px;
            color: var(--text);
        }

        .syntax-table tr:last-child td {
            border-bottom: none;
        }

        .code-block {
            background: #282c34;
            border-radius: 8px;
            padding: 16px;
            overflow-x: auto;
            margin: 16px 0;
        }

        .code-block pre {
            margin: 0;
        }

        .code-block code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
        }

        .copy-btn {
            float: right;
            padding: 4px 8px;
            font-size: 12px;
            background: var(--brand);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .copy-btn:hover {
            background: #00a687;
        }

        .quick-links {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 20px;
        }

        .quick-link {
            padding: 6px 12px;
            background: #f8fafc;
            border: 1px solid var(--border);
            border-radius: 20px;
            font-size: 13px;
            color: var(--text);
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .quick-link:hover {
            background: white;
            border-color: var(--brand);
            color: var(--brand);
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .input-group {
                flex-direction: column;
            }

            .template-cards {
                grid-template-columns: 1fr;
            }

            .options-section {
                flex-direction: column;
                align-items: flex-start;
            }

            .syntax-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>

<body>
    <!-- 顶部菜单栏 -->
    <div class="topbar">
        <div class="nav">
            <div class="navbar-brand">
                <a href="/">
                    <i class="fas fa-code"></i>
                </a>
            </div>
            <div class="nav-links">
                <a href="/html/jsonformat.html">JSON格式化</a>
                <a href="/html/m3u8player.html"  rel="noopener">M3U8在线播放</a>
                <a href="/html/timestampconverter.html" >时间戳转换</a>
                <a href="/html/regextool.html" class="active">正则表达式</a>
                <a href="/html/qrcodegenerator.html">二维码生成</a>
                <a href="/html/encryptiontool.html">加解密工具</a>
                <a href="/html/docs.html" >文章页</a>
            </div>
        </div>
    </div>

    <div class="shell">
        <div class="container regex-container">
            <!-- 正则表达式测试区域 -->
            <div class="regex-card">
                <h2 style="margin-top: 0; margin-bottom: 24px; font-size: 24px;">正则表达式测试工具</h2>

                <!-- 正则表达式输入 -->
                <div class="input-section">
                    <h3>正则表达式</h3>
                    <div class="input-group">
                        <input type="text" id="regexInput" placeholder="请输入正则表达式（不需要包含 / / 分隔符）" value="">
                        <button class="btn success" onclick="testRegex()">测试</button>
                    </div>

                    <!-- 正则选项 -->
                    <div class="options-section">
                        <div class="option-item">
                            <input type="checkbox" id="globalFlag" checked>
                            <label for="globalFlag">全局匹配 (g)</label>
                        </div>
                        <div class="option-item">
                            <input type="checkbox" id="caseInsensitiveFlag">
                            <label for="caseInsensitiveFlag">忽略大小写 (i)</label>
                        </div>
                        <div class="option-item">
                            <input type="checkbox" id="multilineFlag">
                            <label for="multilineFlag">多行模式 (m)</label>
                        </div>
                        <div class="option-item">
                            <input type="checkbox" id="dotAllFlag">
                            <label for="dotAllFlag">点号匹配换行符 (s)</label>
                        </div>
                        <div class="option-item">
                            <input type="checkbox" id="unicodeFlag">
                            <label for="unicodeFlag">Unicode模式 (u)</label>
                        </div>
                    </div>
                </div>

                <!-- 测试字符串输入 -->
                <div class="input-section">
                    <h3>测试字符串</h3>
                    <div class="input-group">
                        <textarea id="testString"
                            placeholder="请输入要测试的字符串...">这是一个测试字符串，包含邮箱：test@example.com 和手机号：13812345678，网址：https://www.example.com，以及日期：2023-09-15。</textarea>
                    </div>
                </div>

                <!-- 匹配结果 -->
                <div id="matchResult" class="result-section">
                    <div class="result-title">匹配结果</div>
                    <div id="resultStats" class="result-stats">请输入正则表达式并点击测试按钮查看结果</div>
                    <div id="resultContent" class="result-content"></div>
                </div>
            </div>

            <!-- 常用正则表达式模板 -->
            <div class="templates-section">
                <h3>常用正则表达式模板</h3>
                <div class="template-cards">
                    <div class="template-card"
                        onclick="loadTemplate('^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$', '邮箱地址')">
                        <div class="template-title">邮箱地址</div>
                        <div class="template-regex">^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$</div>
                        <div class="template-desc">匹配标准邮箱格式</div>
                    </div>
                    <div class="template-card" onclick="loadTemplate('^1[3-9]\\d{9}$', '手机号码')">
                        <div class="template-title">手机号码</div>
                        <div class="template-regex">^1[3-9]\d{9}$</div>
                        <div class="template-desc">匹配中国大陆手机号</div>
                    </div>
                    <div class="template-card" onclick="loadTemplate('^https?:\\/\\/[^\\s]+$', '网址URL')">
                        <div class="template-title">网址URL</div>
                        <div class="template-regex">^https?:\/\/[^\s]+$</div>
                        <div class="template-desc">匹配HTTP/HTTPS网址</div>
                    </div>
                    <div class="template-card" onclick="loadTemplate('^\\d{4}-\\d{2}-\\d{2}$', '日期格式')">
                        <div class="template-title">日期格式</div>
                        <div class="template-regex">^\d{4}-\d{2}-\d{2}$</div>
                        <div class="template-desc">匹配YYYY-MM-DD格式日期</div>
                    </div>
                    <div class="template-card" onclick="loadTemplate('^\\d{17}[\\dXx]$', '身份证号')">
                        <div class="template-title">身份证号</div>
                        <div class="template-regex">^\d{17}[\dXx]$</div>
                        <div class="template-desc">匹配18位身份证号</div>
                    </div>
                    <div class="template-card" onclick="loadTemplate('^[a-zA-Z][a-zA-Z0-9_]{4,15}$', '用户名')">
                        <div class="template-title">用户名</div>
                        <div class="template-regex">^[a-zA-Z][a-zA-Z0-9_]{4,15}$</div>
                        <div class="template-desc">匹配字母开头，5-16位字母数字下划线</div>
                    </div>
                    <div class="template-card"
                        onclick="loadTemplate('^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$', '强密码')">
                        <div class="template-title">强密码</div>
                        <div class="template-regex">^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$</div>
                        <div class="template-desc">至少8位，包含大小写字母和数字</div>
                    </div>
                    <div class="template-card" onclick="loadTemplate('^\\d+(\\.\\d{1,2})?$', '金额格式')">
                        <div class="template-title">金额格式</div>
                        <div class="template-regex">^\d+(\.\d{1,2})?$</div>
                        <div class="template-desc">匹配整数或最多两位小数</div>
                    </div>
                </div>
            </div>

            <!-- 正则表达式语法说明 -->
            <div class="syntax-section">
                <h3>正则表达式基本语法</h3>
                <table class="syntax-table">
                    <thead>
                        <tr>
                            <th>语法</th>
                            <th>描述</th>
                            <th>示例</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>.</td>
                            <td>匹配除换行符外的任意字符</td>
                            <td>a.c 匹配 abc, a1c 等</td>
                        </tr>
                        <tr>
                            <td>^</td>
                            <td>匹配字符串的开始</td>
                            <td>^hello 匹配以hello开头的字符串</td>
                        </tr>
                        <tr>
                            <td>$</td>
                            <td>匹配字符串的结束</td>
                            <td>world$ 匹配以world结尾的字符串</td>
                        </tr>
                        <tr>
                            <td>*</td>
                            <td>匹配前面的元素零次或多次</td>
                            <td>ab*c 匹配 ac, abc, abbc 等</td>
                        </tr>
                        <tr>
                            <td>+</td>
                            <td>匹配前面的元素一次或多次</td>
                            <td>ab+c 匹配 abc, abbc 等</td>
                        </tr>
                        <tr>
                            <td>?</td>
                            <td>匹配前面的元素零次或一次</td>
                            <td>ab?c 匹配 ac, abc</td>
                        </tr>
                        <tr>
                            <td>{n}</td>
                            <td>匹配前面的元素恰好n次</td>
                            <td>a{3} 匹配 aaa</td>
                        </tr>
                        <tr>
                            <td>{n,}</td>
                            <td>匹配前面的元素至少n次</td>
                            <td>a{3,} 匹配 aaa, aaaa 等</td>
                        </tr>
                        <tr>
                            <td>{n,m}</td>
                            <td>匹配前面的元素n到m次</td>
                            <td>a{2,4} 匹配 aa, aaa, aaaa</td>
                        </tr>
                        <tr>
                            <td>[...]</td>
                            <td>字符类，匹配方括号内的任意字符</td>
                            <td>[abc] 匹配 a, b 或 c</td>
                        </tr>
                        <tr>
                            <td>[^...]</td>
                            <td>否定字符类，匹配不在方括号内的任意字符</td>
                            <td>[^abc] 匹配除a, b, c外的任意字符</td>
                        </tr>
                        <tr>
                            <td>|</td>
                            <td>或运算符，匹配左边或右边的表达式</td>
                            <td>cat|dog 匹配 cat 或 dog</td>
                        </tr>
                        <tr>
                            <td>()</td>
                            <td>分组，将表达式分组为一个单元</td>
                            <td>(abc)+ 匹配 abc, abcabc 等</td>
                        </tr>
                        <tr>
                            <td>\\d</td>
                            <td>匹配任意数字字符，等价于 [0-9]</td>
                            <td>a\\dc 匹配 a0c, a1c 等</td>
                        </tr>
                        <tr>
                            <td>\\D</td>
                            <td>匹配任意非数字字符，等价于 [^0-9]</td>
                            <td>a\\Dc 匹配 abc, a@c 等</td>
                        </tr>
                        <tr>
                            <td>\\w</td>
                            <td>匹配任意字母、数字或下划线，等价于 [a-zA-Z0-9_]</td>
                            <td>\\w+ 匹配单词</td>
                        </tr>
                        <tr>
                            <td>\\W</td>
                            <td>匹配任意非字母、数字或下划线，等价于 [^a-zA-Z0-9_]</td>
                            <td>\\W+ 匹配非单词字符</td>
                        </tr>
                        <tr>
                            <td>\\s</td>
                            <td>匹配任意空白字符（空格、制表符、换行符等）</td>
                            <td>a\\sb 匹配 a b</td>
                        </tr>
                        <tr>
                            <td>\\S</td>
                            <td>匹配任意非空白字符</td>
                            <td>\\S+ 匹配非空白字符序列</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 正则表达式常见问题 -->
            <div class="syntax-section" style="margin-bottom: 40px;">
                <h3>正则表达式常见问题解答</h3>

                <h4 style="margin-top: 24px; color: var(--text);">什么是正则表达式？</h4>
                <p>正则表达式（Regular Expression）是一种用于匹配字符串中字符组合的模式。它是一种强大的文本处理工具，广泛应用于文本搜索、替换、验证等场景。</p>

                <h4 style="margin-top: 24px; color: var(--text);">如何转义特殊字符？</h4>
                <p>在正则表达式中，某些字符具有特殊含义，如 . * + ? ^ $ [ ] ( ) { } | \ 等。如果要匹配这些字符本身，需要在它们前面加上反斜杠（\\）进行转义。例如，要匹配点号（.），应使用
                    \\.。</p>

                <h4 style="margin-top: 24px; color: var(--text);">贪婪匹配与非贪婪匹配有什么区别？</h4>
                <p>正则表达式默认是贪婪匹配，即尽可能多地匹配字符。如果想要非贪婪匹配（尽可能少地匹配字符），可以在量词（*、+、?、{n,}、{n,m}）后面加上 ?。例如：</p>
                <div class="code-block">
                    <pre><code>// 贪婪匹配：匹配从第一个 &lt; 到最后一个 &gt;
&lt;.*&gt;

// 非贪婪匹配：匹配从第一个 &lt; 到第一个 &gt;
&lt;.*?&gt;</code></pre>
                </div>

                <h4 style="margin-top: 24px; color: var(--text);">如何捕获分组？</h4>
                <p>使用圆括号 () 可以创建捕获分组，匹配的内容会被保存起来，之后可以通过反向引用或编程方式访问。例如：</p>
                <div class="code-block">
                    <pre><code>// 捕获日期中的年、月、日
^(\\d{4})-(\\d{2})-(\\d{2})$</code></pre>
                </div>
            </div>

            <!-- 工具特性介绍 -->
            <div class="features-container" style="margin-top: 60px; margin-bottom: 40px;">
                <div class="feature-card">
                    <div class="feature-icon">✨</div>
                    <div class="feature-title">实时匹配</div>
                    <div class="feature-desc">输入正则表达式和测试字符串，实时查看匹配结果和详细信息</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📋</div>
                    <div class="feature-title">常用模板</div>
                    <div class="feature-desc">提供多种常用正则表达式模板，一键复制使用，提高开发效率</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📚</div>
                    <div class="feature-title">语法参考</div>
                    <div class="feature-desc">内置正则表达式语法说明和常见问题解答，帮助新手快速入门</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">⚙️</div>
                    <div class="feature-title">灵活配置</div>
                    <div class="feature-desc">支持全局匹配、忽略大小写、多行模式等多种正则表达式选项</div>
                </div>
            </div>

            <!-- 相关链接 -->
            <div style="margin-top: 40px; text-align: center;">
                <h4 style="margin-bottom: 16px; color: var(--text);">相关资源</h4>
                <div class="quick-links">
                    <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions"
                        class="quick-link"  rel="noopener">MDN正则表达式指南</a>
                    <a href="https://regex101.com/" class="quick-link"  rel="noopener">Regex101 -
                        高级正则测试</a>
                    <a href="https://regexr.com/" class="quick-link"  rel="noopener">Regexr - 交互式学习</a>
                    <a href="https://c.runoob.com/front-end/854/" class="quick-link"  rel="noopener">菜鸟教程
                        - 正则表达式</a>
                </div>
            </div>
        </div>
        <div class="footer">
            <!-- 友链直接硬编码在这里 -->
            <div class="friend-links">
                <h3>友情链接</h3>
                <div class="links-container">
                    <a href="/sitemap.xml" rel="noopener">站点地图</a>
                    <a href="https://www.csdn.net/"  rel="noopener">CSDN</a>
                    <a href="https://www.cnblogs.com/"  rel="noopener">博客园</a>
                </div>
            </div>
        </div>
    </div>

    <!-- 正则表达式测试脚本 -->
    <script>
        // 测试正则表达式
        function testRegex() {
            const regexInput = document.getElementById('regexInput').value;
            const testString = document.getElementById('testString').value;
            const globalFlag = document.getElementById('globalFlag').checked;
            const caseInsensitiveFlag = document.getElementById('caseInsensitiveFlag').checked;
            const multilineFlag = document.getElementById('multilineFlag').checked;
            const dotAllFlag = document.getElementById('dotAllFlag').checked;
            const unicodeFlag = document.getElementById('unicodeFlag').checked;

            // 构建标志字符串
            let flags = '';
            if (globalFlag) flags += 'g';
            if (caseInsensitiveFlag) flags += 'i';
            if (multilineFlag) flags += 'm';
            if (dotAllFlag) flags += 's';
            if (unicodeFlag) flags += 'u';

            const resultContent = document.getElementById('resultContent');
            const resultStats = document.getElementById('resultStats');

            // 清空之前的结果
            resultContent.innerHTML = '';

            try {
                // 创建正则表达式对象
                const regex = new RegExp(regexInput, flags);

                // 执行匹配
                let matches;
                const matchResults = [];

                if (globalFlag) {
                    // 全局匹配
                    while ((matches = regex.exec(testString)) !== null) {
                        matchResults.push({
                            value: matches[0],
                            index: matches.index,
                            groups: matches.slice(1)
                        });

                        // 防止无限循环（当正则表达式匹配空字符串时）
                        if (matches.index === regex.lastIndex) {
                            regex.lastIndex++;
                        }
                    }
                } else {
                    // 单次匹配
                    matches = regex.exec(testString);
                    if (matches) {
                        matchResults.push({
                            value: matches[0],
                            index: matches.index,
                            groups: matches.slice(1)
                        });
                    }
                }

                // 显示匹配结果统计
                if (matchResults.length > 0) {
                    resultStats.textContent = `找到 ${matchResults.length} 个匹配项`;

                    // 显示每个匹配的详细信息
                    matchResults.forEach((match, index) => {
                        const matchElement = document.createElement('div');
                        matchElement.className = 'match-result';

                        // 构建带高亮的文本
                        const beforeMatch = testString.substring(Math.max(0, match.index - 20), match.index);
                        const matchedText = match.value;
                        const afterMatch = testString.substring(match.index + match.value.length, Math.min(testString.length, match.index + match.value.length + 20));

                        let displayText = '';
                        if (beforeMatch) {
                            displayText += beforeMatch;
                        }
                        displayText += `<span class="match-highlight">${matchedText}</span>`;
                        if (afterMatch) {
                            displayText += afterMatch;
                        }

                        if (beforeMatch) displayText = '...' + displayText;
                        if (afterMatch) displayText = displayText + '...';

                        matchElement.innerHTML = `
                            <div><strong>匹配项 ${index + 1}:</strong> ${displayText}</div>
                            <div class="match-details">
                                <div>匹配内容: "${match.value}"</div>
                                <div>位置: 从 ${match.index} 到 ${match.index + match.value.length}</div>
                            `;

                        // 如果有捕获分组，显示分组信息
                        if (match.groups && match.groups.length > 0) {
                            let groupsHtml = '<div>捕获分组:</div>';
                            match.groups.forEach((group, groupIndex) => {
                                groupsHtml += `<div class="group-item">组 ${groupIndex + 1}: "${group || ''}"</div>`;
                            });
                            matchElement.innerHTML += groupsHtml;
                        }

                        matchElement.innerHTML += '</div>';
                        resultContent.appendChild(matchElement);
                    });
                } else {
                    resultStats.textContent = '未找到匹配项';
                    resultContent.innerHTML = '<div style="text-align: center; color: var(--muted); padding: 20px 0;">没有找到匹配的内容</div>';
                }
            } catch (error) {
                resultStats.textContent = '正则表达式错误';
                resultContent.innerHTML = `<div style="text-align: center; color: #e74c3c; padding: 20px 0;">${error.message}</div>`;
            }
        }

        // 加载模板
        function loadTemplate(regex, title) {
            document.getElementById('regexInput').value = regex;
            // 自动测试
            testRegex();
            // 滚动到结果区域
            document.getElementById('matchResult').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // 初始化时高亮代码
        document.addEventListener('DOMContentLoaded', function () {
            hljs.highlightAll();

            // 添加输入事件监听，实时测试
            document.getElementById('regexInput').addEventListener('input', debounce(testRegex, 500));
            document.getElementById('testString').addEventListener('input', debounce(testRegex, 500));

            // 选项改变时测试
            document.querySelectorAll('.options-section input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', testRegex);
            });

            // 初始测试
            if (document.getElementById('regexInput').value) {
                testRegex();
            }
        });

        // 防抖函数
        function debounce(func, wait) {
            let timeout;
            return function () {
                const context = this;
                const args = arguments;
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(context, args), wait);
            };
        }

        // 添加复制功能
        document.querySelectorAll('.template-card .template-regex').forEach(element => {
            element.addEventListener('click', function (e) {
                e.stopPropagation();
                const textToCopy = this.textContent.replace(/\\/g, '\\\\');
                navigator.clipboard.writeText(textToCopy).then(() => {
                    const originalText = this.textContent;
                    this.textContent = '已复制！';
                    this.style.backgroundColor = '#d4edda';
                    this.style.color = '#155724';

                    setTimeout(() => {
                        this.textContent = originalText;
                        this.style.backgroundColor = '';
                        this.style.color = '';
                    }, 2000);
                });
            });
        });
    </script>
</body>

</html>